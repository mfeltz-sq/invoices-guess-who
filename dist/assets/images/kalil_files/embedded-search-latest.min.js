(()=>{var e={19662:(e,t,n)=>{var r=n(60614),o=n(66330),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(o(e)+" is not a function")}},19670:(e,t,n)=>{var r=n(70111),o=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw a(o(e)+" is not an object")}},41318:(e,t,n)=>{var r=n(45656),o=n(51400),a=n(26244),i=function(e){return function(t,n,i){var s,c=r(t),u=a(c),l=o(i,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},83658:(e,t,n)=>{var r=n(19781),o=n(43157),a=TypeError,i=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(o(e)&&!i(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},84326:(e,t,n)=>{var r=n(1702),o=r({}.toString),a=r("".slice);e.exports=function(e){return a(o(e),8,-1)}},99920:(e,t,n)=>{var r=n(92597),o=n(53887),a=n(31236),i=n(3070);e.exports=function(e,t,n){for(var s=o(t),c=i.f,u=a.f,l=0;l<s.length;l++){var p=s[l];r(e,p)||n&&r(n,p)||c(e,p,u(t,p))}}},68880:(e,t,n)=>{var r=n(19781),o=n(3070),a=n(79114);e.exports=r?function(e,t,n){return o.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},79114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},98052:(e,t,n)=>{var r=n(60614),o=n(3070),a=n(56339),i=n(13072);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:t;if(r(n)&&a(n,u,s),s.global)c?e[t]=n:i(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(l){}c?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},13072:(e,t,n)=>{var r=n(17854),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},19781:(e,t,n)=>{var r=n(47293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},80317:(e,t,n)=>{var r=n(17854),o=n(70111),a=r.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},7207:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},88113:(e,t,n)=>{var r=n(35005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,o,a=n(17854),i=n(88113),s=a.process,c=a.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},80748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82109:(e,t,n)=>{var r=n(17854),o=n(31236).f,a=n(68880),i=n(98052),s=n(13072),c=n(99920),u=n(54705);e.exports=function(e,t){var n,l,p,d,h,m=e.target,f=e.global,g=e.stat;if(n=f?r:g?r[m]||s(m,{}):(r[m]||{}).prototype)for(l in t){if(d=t[l],p=e.dontCallGetSet?(h=o(n,l))&&h.value:n[l],!u(f?l:m+(g?".":"#")+l,e.forced)&&void 0!==p){if(typeof d==typeof p)continue;c(d,p)}(e.sham||p&&p.sham)&&a(d,"sham",!0),i(n,l,d,e)}}},47293:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},34374:(e,t,n)=>{var r=n(47293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},46916:(e,t,n)=>{var r=n(34374),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},76530:(e,t,n)=>{var r=n(19781),o=n(92597),a=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,s=o(a,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&i(a,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},1702:(e,t,n)=>{var r=n(34374),o=Function.prototype,a=o.call,i=r&&o.bind.bind(a,a);e.exports=r?i:function(e){return function(){return a.apply(e,arguments)}}},35005:(e,t,n)=>{var r=n(17854),o=n(60614),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},58173:(e,t,n)=>{var r=n(19662),o=n(68554);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},17854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},92597:(e,t,n)=>{var r=n(1702),o=n(47908),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},3501:e=>{e.exports={}},64664:(e,t,n)=>{var r=n(19781),o=n(47293),a=n(80317);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},68361:(e,t,n)=>{var r=n(1702),o=n(47293),a=n(84326),i=Object,s=r("".split);e.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):i(e)}:i},42788:(e,t,n)=>{var r=n(1702),o=n(60614),a=n(5465),i=r(Function.toString);o(a.inspectSource)||(a.inspectSource=function(e){return i(e)}),e.exports=a.inspectSource},29909:(e,t,n)=>{var r,o,a,i=n(94811),s=n(17854),c=n(70111),u=n(68880),l=n(92597),p=n(5465),d=n(6200),h=n(3501),m="Object already initialized",f=s.TypeError,g=s.WeakMap;if(i||p.state){var E=p.state||(p.state=new g);E.get=E.get,E.has=E.has,E.set=E.set,r=function(e,t){if(E.has(e))throw f(m);return t.facade=e,E.set(e,t),t},o=function(e){return E.get(e)||{}},a=function(e){return E.has(e)}}else{var A=d("state");h[A]=!0,r=function(e,t){if(l(e,A))throw f(m);return t.facade=e,u(e,A,t),t},o=function(e){return l(e,A)?e[A]:{}},a=function(e){return l(e,A)}}e.exports={set:r,get:o,has:a,enforce:function(e){return a(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw f("Incompatible receiver, "+e+" required");return n}}}},43157:(e,t,n)=>{var r=n(84326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},60614:(e,t,n)=>{var r=n(4154),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},54705:(e,t,n)=>{var r=n(47293),o=n(60614),a=/#|\.prototype\./,i=function(e,t){var n=c[s(e)];return n==l||n!=u&&(o(t)?r(t):!!t)},s=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},68554:e=>{e.exports=function(e){return null==e}},70111:(e,t,n)=>{var r=n(60614),o=n(4154),a=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===a}:function(e){return"object"==typeof e?null!==e:r(e)}},31913:e=>{e.exports=!1},52190:(e,t,n)=>{var r=n(35005),o=n(60614),a=n(47976),i=n(43307),s=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&a(t.prototype,s(e))}},26244:(e,t,n)=>{var r=n(17466);e.exports=function(e){return r(e.length)}},56339:(e,t,n)=>{var r=n(47293),o=n(60614),a=n(92597),i=n(19781),s=n(76530).CONFIGURABLE,c=n(42788),u=n(29909),l=u.enforce,p=u.get,d=Object.defineProperty,h=i&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),m=String(String).split("String"),f=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(i?d(e,"name",{value:t,configurable:!0}):e.name=t),h&&n&&a(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?i&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=l(e);return a(r,"source")||(r.source=m.join("string"==typeof t?t:"")),e};Function.prototype.toString=f((function(){return o(this)&&p(this).source||c(this)}),"toString")},74758:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},3070:(e,t,n)=>{var r=n(19781),o=n(64664),a=n(3353),i=n(19670),s=n(34948),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p="enumerable",d="configurable",h="writable";t.f=r?a?function(e,t,n){if(i(e),t=s(t),i(n),"function"==typeof e&&"prototype"===t&&"value"in n&&h in n&&!n.writable){var r=l(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:d in n?n.configurable:r.configurable,enumerable:p in n?n.enumerable:r.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(i(e),t=s(t),i(n),o)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},31236:(e,t,n)=>{var r=n(19781),o=n(46916),a=n(55296),i=n(79114),s=n(45656),c=n(34948),u=n(92597),l=n(64664),p=Object.getOwnPropertyDescriptor;t.f=r?p:function(e,t){if(e=s(e),t=c(t),l)try{return p(e,t)}catch(n){}if(u(e,t))return i(!o(a.f,e,t),e[t])}},8006:(e,t,n)=>{var r=n(16324),o=n(80748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},25181:(e,t)=>{t.f=Object.getOwnPropertySymbols},47976:(e,t,n)=>{var r=n(1702);e.exports=r({}.isPrototypeOf)},16324:(e,t,n)=>{var r=n(1702),o=n(92597),a=n(45656),i=n(41318).indexOf,s=n(3501),c=r([].push);e.exports=function(e,t){var n,r=a(e),u=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&c(l,n);for(;t.length>u;)o(r,n=t[u++])&&(~i(l,n)||c(l,n));return l}},55296:(e,t)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},92140:(e,t,n)=>{var r=n(46916),o=n(60614),a=n(70111),i=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&o(n=e.toString)&&!a(s=r(n,e)))return s;if(o(n=e.valueOf)&&!a(s=r(n,e)))return s;if("string"!==t&&o(n=e.toString)&&!a(s=r(n,e)))return s;throw i("Can't convert object to primitive value")}},53887:(e,t,n)=>{var r=n(35005),o=n(1702),a=n(8006),i=n(25181),s=n(19670),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=i.f;return n?c(t,n(e)):t}},84488:(e,t,n)=>{var r=n(68554),o=TypeError;e.exports=function(e){if(r(e))throw o("Can't call method on "+e);return e}},6200:(e,t,n)=>{var r=n(72309),o=n(69711),a=r("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},5465:(e,t,n)=>{var r=n(17854),o=n(13072),a="__core-js_shared__",i=r[a]||o(a,{});e.exports=i},72309:(e,t,n)=>{var r=n(31913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:r?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},36293:(e,t,n)=>{var r=n(7392),o=n(47293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},51400:(e,t,n)=>{var r=n(19303),o=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):a(n,t)}},45656:(e,t,n)=>{var r=n(68361),o=n(84488);e.exports=function(e){return r(o(e))}},19303:(e,t,n)=>{var r=n(74758);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},17466:(e,t,n)=>{var r=n(19303),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},47908:(e,t,n)=>{var r=n(84488),o=Object;e.exports=function(e){return o(r(e))}},57593:(e,t,n)=>{var r=n(46916),o=n(70111),a=n(52190),i=n(58173),s=n(92140),c=n(5112),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var n,c=i(e,l);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!o(n)||a(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},34948:(e,t,n)=>{var r=n(57593),o=n(52190);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},66330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},69711:(e,t,n)=>{var r=n(1702),o=0,a=Math.random(),i=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+a,36)}},43307:(e,t,n)=>{var r=n(36293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var r=n(19781),o=n(47293);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},94811:(e,t,n)=>{var r=n(17854),o=n(60614),a=r.WeakMap;e.exports=o(a)&&/native code/.test(String(a))},5112:(e,t,n)=>{var r=n(17854),o=n(72309),a=n(92597),i=n(69711),s=n(36293),c=n(43307),u=o("wks"),l=r.Symbol,p=l&&l.for,d=c?l:l&&l.withoutSetter||i;e.exports=function(e){if(!a(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&a(l,e)?u[e]=l[e]:u[e]=c&&p?p(t):d(t)}return u[e]}},57658:(e,t,n)=>{var r=n(82109),o=n(47908),a=n(26244),i=n(83658),s=n(7207),c=n(47293)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:c||u},{push:function(e){var t=o(this),n=a(t),r=arguments.length;s(n+r);for(var c=0;c<r;c++)t[n]=arguments[c],n++;return i(t,n),n}})},91757:function(e,t){!function(e){function t(e){return null==e}function n(e){throw new Error("Argument "+e+" is empty.")}function r(e){return"function"==typeof e&&"getType"in e}function o(e){throw new Error("Argument "+e+' is invalid, it should be an action-creator instance from "typesafe-actions"')}function a(e,t){if(null==e)throw new Error("Argument contains array with empty element at index "+t);if(null==e.getType)throw new Error("Argument contains array with invalid element at index "+t+', it should be an action-creator instance from "typesafe-actions"')}function i(e){return"string"==typeof e||"symbol"==typeof e}function s(e){return!i(e)}function c(e){throw new Error("Argument "+e+" is invalid, it should be an action type of type: string | symbol")}function u(e,t){if(null==e)throw new Error("Argument contains array with empty element at index "+t);if("string"!=typeof e&&"symbol"!=typeof e)throw new Error("Argument contains array with invalid element at index "+t+", it should be of type: string | symbol")}function l(e,r,a,i){return t(e)&&n(1),s(e)&&o(1),{type:e,payload:r,meta:a,error:i}}function p(e,r){return t(e)&&n(1),s(e)&&c(1),Object.assign((function(){var t=null!=r?r.apply(void 0,arguments):void 0;return Object.assign({type:e},t)}),{getType:function(){return e},toString:function(){return e}})}function d(e,r,o){return t(e)&&n(1),s(e)&&c(1),function(){return p(e,(function(){var e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];return null==r&&null==o||(e=null!=r?r.apply(void 0,arguments):void 0,t=null!=o?o.apply(void 0,arguments):void 0),Object.assign({},void 0!==e&&{payload:e},{},void 0!==t&&{meta:t})}))}}function h(e){return t(e)&&n(1),r(e)||o(1),e.getType()}function m(e,r){t(e)&&n(1),s(e)&&c(1);var o=null!=r?r(e):function(){return{type:e}};return Object.assign(o,{getType:function(){return e},toString:function(){return e}})}var f={createAction:function(e,t){var n=null==t?function(){return l(e)}:t(l.bind(null,e));return Object.assign(n,{getType:function(){return e},toString:function(){return e}})},createCustomAction:m,createStandardAction:function(e){return t(e)&&n(1),s(e)&&c(1),Object.assign((function(){return m(e,(function(e){return function(t,n){return{type:e,payload:t,meta:n}}}))}),{map:function(t){return m(e,(function(e){return function(n,r){return Object.assign(t(n,r),{type:e})}}))}})}};e.action=l,e.createAction=d,e.createAsyncAction=function(e,t,n,r){return function(){var o=[e,t,n,r].map((function(e,t){return Array.isArray(e)?d(e[0],e[1],e[2])():"string"==typeof e||"symbol"==typeof e?d(e)():void(t<3&&function(e){throw new Error("Argument "+e+' is invalid, it should be an action type of "string | symbol" or a tuple of "[string | symbol, Function, Function?]"')}(t))}));return{request:o[0],success:o[1],failure:o[2],cancel:o[3]}}},e.createCustomAction=p,e.createReducer=function e(t,n){void 0===n&&(n={});var o=Object.assign({},n),a=function(n,a){var s=Array.isArray(n)?n:[n],c={};return s.map((function(e,t){return r(e)?h(e):i(e)?e:function(e){throw new Error("Argument "+e+' is invalid, it should be an action-creator instance from "typesafe-actions" or action type of type: string | symbol')}(t+1)})).forEach((function(e){return c[e]=a})),e(t,Object.assign({},o,{},c))};return Object.assign((function(e,n){if(void 0===e&&(e=t),o.hasOwnProperty(n.type)){var r=o[n.type];if("function"!=typeof r)throw Error('Reducer under "'+n.type+'" key is not a valid reducer');return r(e,n)}return e}),{handlers:Object.assign({},o),handleAction:a,handleType:a})},e.deprecated=f,e.getType=h,e.isActionOf=function(e,r){t(e)&&n(1);var o=Array.isArray(e)?e:[e];o.forEach(a);var i=function(e){return o.some((function(t){return e.type===t.getType()}))};return void 0===r?i:i(r)},e.isOfType=function(e,r){t(e)&&n(1);var o=Array.isArray(e)?e:[e];o.forEach(u);var a=function(e){return o.includes(e.type)};return void 0===r?a:a(r)}}(t)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{n(57658);const e=2147483643,t=2147483647,r={openRect:{height:"100%",right:0,top:0,width:540,zIndex:t}};var o=n(91757);const a="ADD_TITLE_OBSERVER",i="BLUR_FRAME",s="ON_FRAME_CREATE",c="ON_FRAME_DELETE",u="ON_FRAME_FOCUS",l="ON_FOCUS_NATIVE_SEARCH_BOX",p="ON_NAVIGATE_PARENT_FRAME",d="NAVIGATE_TO_URL",h="ON_AUTH_TOKEN_REQUIRED",m="ON_BROWSER_ACTION",f="ON_DATASOURCE_CHANGED",g="ON_FRAME_READY",E="ON_SEARCH",A="ON_URL_CHANGED",y="ON_SIDEBAR_OPEN",S="QUERY_CSS_SELECTORS",b="RELOAD_EXTENSION_SW",_="REQUEST_HOST_PERMISSIONS",v="ON_FRAME_UPDATE";(0,o.createAction)(a,(e=>({frameId:e})))(),(0,o.createAction)(i,(e=>({frameId:e})))(),(0,o.createAction)(s,((e,t)=>({rect:t,src:e})))(),(0,o.createAction)(c,(e=>({frameId:e})))(),(0,o.createAction)(u,(e=>({frameId:e})))(),(0,o.createAction)(l)(),(0,o.createAction)(p,(e=>({url:e})))(),(0,o.createAction)(d,(e=>({url:e})))(),(0,o.createAction)(h)(),(0,o.createAction)(m)(),(0,o.createAction)(f,(e=>({datasource:e})))(),(0,o.createAction)(g)(),(0,o.createAction)(E,((e,t)=>({frameId:e,query:t})))(),(0,o.createAction)(A,(e=>({url:e})))(),(0,o.createAction)(y,((e,t)=>({category:t,query:e,source:t})))(),(0,o.createAction)(S,(e=>({selectors:e})))(),(0,o.createAction)(b)(),(0,o.createAction)(_,(e=>({origins:e})))(),(0,o.createAction)(v,((e,t)=>({frameId:e,rect:t})))();function w(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}"function"==typeof Symbol&&Symbol.observable;var O=function(){return Math.random().toString(36).substring(7).split("").join(".")};O(),O();function T(e,t){return function(){return t(e.apply(this,arguments))}}function R(e,t){if("function"==typeof e)return T(e,t);if("object"!=typeof e||null===e)throw new Error(w(16));var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=T(o,t))}return n}const I="ON_CLOSE_SIDEBAR",C="LOG_ACTIVITY",N="ON_DOCUMENT_TITLE_CHANGED",P="ON_DOCUMENT_URL_CHANGED",D="ON_FRAME_URL_CHANGED",x="ON_REQUEST_HOST_PERMISSIONS_RESPONSE",U="ON_SEARCH_BOX_ACTIVE",k="ON_SEEK_ATTENTION",L="ON_OPEN_SIDEBAR",M="SET_EMBEDDED_SEARCH_OPTIONS",B="SET_SEARCH_BOX_CUSTOMIZATIONS",j="ON_TOGGLE_SIDEBAR",F={logActivity:(0,o.createAction)(C,(e=>({event:e})))(),onCloseSidebar:(0,o.createAction)(I)(),onDocumentTitleChanged:(0,o.createAction)(N,(e=>({title:e})))(),onDocumentUrlChanged:(0,o.createAction)(P,(e=>({url:e})))(),onFrameUrlChanged:(0,o.createAction)(D,(e=>({url:e})))(),onOpenSidebar:(0,o.createAction)(L,((e,t)=>({category:t,query:e,source:t})))(),onRequestHostPermissionsResponse:(0,o.createAction)(x,(e=>e))(),onSearchBoxActive:(0,o.createAction)(U,((e,t)=>({cueRect:t,windowSize:e})))(),onToggleSidebar:(0,o.createAction)(j,((e,t)=>({category:t,query:e,source:t})))(),seekAttention:(0,o.createAction)(k)(),setEmbeddedSearchOptions:(0,o.createAction)(M,(e=>{const t={};return Object.entries(e).forEach((([e,n])=>{"function"!=typeof n&&(t[e]=n)})),{options:t}}))(),setSearchBoxCustomizations:(0,o.createAction)(B,(e=>({customizations:e})))()},H="contentScript",G="data-frame-action-queue",q=e=>{const t=e?.getAttribute(G);if(t){const e=JSON.parse(t);if(Array.isArray(e))return e}return[]},z=(e,t)=>{e?.setAttribute(G,JSON.stringify(t))};class K{static _channels={};static _handlers=[];_handlerFuncs={};static init(){window.contentScriptPort||(window.contentScriptPort=this)}static initFrame(e){K.init(),console.debug(H,"initialize frame:",e.src),window.contentScriptPort?._channels[e.id]&&delete window.contentScriptPort._channels[e.id];const t=new MessageChannel;e.addEventListener("load",(()=>{console.debug(H,"frame loaded:",e.id);const n=window.contentScriptPort;n&&(t.port1.onmessage=r=>{if(r.data.type===g){q(e).forEach((e=>t.port1.postMessage(e))),z(e,[])}else n._handlers.forEach((e=>e._handleMessage(r.data)))},e.contentWindow?.postMessage("oib308w3ug0a","*",[t.port2]),n._channels[e.id]=t)}))}static receiver(e){K.init();const t=new K(e);return window.contentScriptPort?._handlers.push(t),t}static sender(e){return R(F,(t=>{if(window.contentScriptPort?._channels[e])console.debug(H,"dispatch",t.type),window.contentScriptPort._channels[e].port1.postMessage(t);else{console.debug(H,"enqueue",t.type);const n=xt(e),r=q(n);z(n,[...r,t])}return t}))}constructor(e){this._frameId=e,window.chrome?.runtime?.onMessage&&chrome.runtime.onMessage.addListener(this._handleMessage)}handleAction(e,t){return this._handlerFuncs[e]=t,this}removeAllHandlers(){console.debug(H,"remove handlers"),this._handlerFuncs={}}_handleMessage=(e,t,n)=>{if(this._frameId&&"payload"in e&&"frameId"in e.payload&&e.payload.frameId!==this._frameId)return;const r=this._handlerFuncs[e.type];r&&(console.debug(H,"handle",e.type),r(e,t,n))}}const Q="Brave",V="Chrome",W="Edge",Y="Firefox",$="Opera",X="Safari",Z="";var J="undefined"!=typeof window?window:{screen:{},navigator:{}},ee=(J.matchMedia||function(){return{matches:!1}}).bind(J),te={get passive(){return!0}},ne=function(){};J.addEventListener&&J.addEventListener("p",ne,te),J.removeEventListener&&J.removeEventListener("p",ne,!1);var re="ontouchstart"in J,oe=re||"TouchEvent"in J&&ee("(any-pointer: coarse)").matches,ae=(J.navigator.maxTouchPoints,J.navigator.userAgent||""),ie=ee("(pointer: coarse)").matches&&/iPad|Macintosh/.test(ae)&&Math.min(J.screen.width||0,J.screen.height||0)>=768,se=((ee("(pointer: coarse)").matches||!ee("(pointer: fine)").matches&&re)&&/Windows.*Firefox/.test(ae),ee("(any-pointer: fine)").matches||ee("(any-hover: hover)").matches,Number.isNaN||function(e){return"number"==typeof e&&e!=e});function ce(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||se(r)&&se(o)))return!1;var r,o;return!0}const ue=[{browser:Z,test:[/googlebot/i]},{browser:$,test:[/opera/i]},{browser:$,test:[/opr\/|opios/i]},{browser:Z,test:[/SamsungBrowser|Whale|MZBrowser|focus|swing|coast/i]},{browser:$,test:[/opt\/\d+(?:.?_?\d+)+/i]},{browser:Z,test:[/yabrowser|ucbrowser|Maxthon|mxios|epiphany|puffin|sleipnir|k-meleon|micromessenger|qqbrowser|msie|trident/i]},{browser:W,test:[/\sedg\/|edg([ea]|ios)/i]},{browser:Z,test:[/vivaldi|seamonkey|sailfish|silk|phantom|slimerjs|blackberry|\bbb\d+/i,/rim\stablet|(web|hpw)[o0]s|bada|tizen|qupzilla/i]},{browser:Y,test:[/firefox|iceweasel|fxios/i]},{browser:Z,test:[/electron|MiuiBrowser|chromium/i]},{browser:V,test:[/chrome|crios|crmo/i]},{browser:Z,test:[/GSA/i]},{browser:Z,test(e){const t=!/like android/i.test(e),n=/android/i.test(e);return t&&n}},{browser:Z,test:[/playstation 4/i]},{browser:X,test:[/safari|applewebkit/i]}],le=function(e,t){void 0===t&&(t=ce);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}((e=>{const t=ue.find((t=>"function"==typeof t.test?t.test(e):t.test.some((t=>t.test(e)))));return t?t.browser:Z})),pe=()=>{const{brave:e,userAgent:t}=self.navigator;return e?Q:le(t)},de=(globalThis,[Q,V,W,Y,$]),he=()=>!(void 0!==self.orientation)&&(de.includes(pe())||!!self.chrome?.runtime),me=(self.navigator.platform.toLowerCase().includes("mac"),"x-data-aab43oPb"),fe=()=>document.documentElement.hasAttribute(me);const ge={sendMessage:function(e,t,n,r){if("function"==typeof n&&(r=n),!fe())return void(r&&r(null));const o={action:t,responseId:r?Math.random():void 0};if(o.responseId){const e=({data:t,origin:n})=>{n!==location.origin||t.action||t.responseId!==o.responseId||(r&&r(t.value),window.removeEventListener("message",e))};window.addEventListener("message",e)}window.postMessage(o,location.origin)}};self.chrome||(self.chrome={}),!self.chrome.runtime&&he()&&(self.chrome.runtime=ge);const Ee=()=>"undefined"!=typeof browser&&browser?.runtime?browser.runtime:"undefined"!=typeof chrome&&chrome?.runtime?chrome.runtime:void 0;let Ae;!function(e){e.ACTAS="actas",e.ADMIN_BACKEND="local_admin",e.ADMIN_CENTRAL_BACKEND="local_admin_central",e.ADVANCED="advanced",e.AUTH="auth",e.AUTH_ON_NEXT_REQUEST="authNextRequest",e.BASELINE_EVAL_ID="baselineEvalId",e.BASE_PATH="basePath",e.COLUMNS="columns",e.CUSTOM1="c1",e.CUSTOM2="c2",e.DATASOURCE_AUTH_COMPLETE="dsAuthComplete",e.DATASOURCE_AUTH_NAME="dsAuthName",e.DATASOURCE_AUTH_STATE="dsAuthState",e.DATASOURCE_AUTH_URL="dsAuthUrl",e.DATASOURCES="ds",e.DIRECTORY_QUERY="directoryQuery",e.DOC_DS="docDs",e.DOC_TITLE="docTitle",e.DOC_URL="docUrl",e.DRAFT_ID="draftId",e.EAGER_QE="eagerQE",e.EVAL_ID="evalId",e.FILTER="filter",e.FRAME_ID="frameId",e.FRAME_TYPE="frameType",e.FRAME_USE_AUTH_TOKEN="frameUseAuthToken",e.FORCE_NEGATION="forceNegation",e.IS_EMBEDDED_SEARCH="embedded",e.MAGIC_LINK_TOKEN="magicLinkToken",e.MANAGED_PUSH="managed",e.MODE="mode",e.ONBOARDING_CHECKLIST_STEP="tour",e.PAGE="page",e.PASTE="hcp",e.PERSON="person",e.PROMO="promo",e.QUERY="q",e.QE="qe",e.REDIRECT="redirect",e.RESULT_SIZE_OVERRIDE="result_size_override",e.SEARCH_CONFIG="sc",e.SETUP_STEP="setup",e.SOURCE_SESSION_URL="source_session_url",e.SKIP_TO_SSO="skip_to_sso",e.SIDEBAR_TAB="sidebar_tab",e.SHORTCUT_AUTH="goLinksEnabled",e.SORT_OPTION="sortOption",e.SOURCE="source",e.STT="stt",e.TAB="tab",e.TEST_MULTITENANT_USER="test_user",e.UTM_SOURCE="utm_source",e.VALIDATION="validation",e.VALIDATION_ERROR="error",e.VALIDATION_WARNING="warning",e.DEBUG_HOST="debugHost",e.DOC_ID="docID",e.ERROR_MESSAGE="errorMessage",e.EXCEPTION_MESSAGE="exceptionMessage",e.EXP_IDS="eids",e.FORCE_WEB_APP_REDIRECT="forceRedirect",e.ISSUES="issues",e.LAST_SEEN_DURATION="lastSeenDuration",e.PAGESIZE="pageSize",e.PROJECT="projects",e.SORTFIELD="sortField",e.SORTORDER="sortOrder",e.STATUS="status",e.WSETUP_STAGE="wsetup",e.INCLUDE_ERRORS="includeErrors",e.GLEAN_GROUP_ID="gleanGroupId",e.GLOBAL_ACT_AS="globalActAs",e.FRAME="frame",e.INSTANCE="instance",e.MENU="menu",e.PLAYBOOK="playbook",e.CHECK_IDS="checkIds",e.RELEASE_GROUP="releaseGroup",e.HC_DEPLOYMENT="healthCheckDeployment",e.PR_DEPLOYMENT="pullRequestDeployment",e.PR_OPERATION="pullRequestOperation",e.PR_RELEASE_VERSION="pullRequestReleaseVersion",e.PR_PULL_REQUEST="pullRequestNumber",e.PR_COMMIT="pullRequestCommit",e.PR_JIRA="pullRequestJira",e.PR_BUILD_RELEASE_VERSION="pullRequestBuildReleaseVersion",e.PR_BUILD_PROJECT_ID="pullRequestBuildProjectId",e.PR_BUILD_RELEASE_BRANCH="pullRequestBuildReleaseBranch",e.SAFARI_EXTENSION_AUTH_REFRESH="sfExtensionAuthRefresh",e.SELECTED_CHANGE_REQUEST_ID="changeRequestId"}(Ae||(Ae={}));Object.values(Ae),new Set([Ae.ACTAS,Ae.ADMIN_BACKEND,Ae.ADMIN_CENTRAL_BACKEND,Ae.EXP_IDS,Ae.ONBOARDING_CHECKLIST_STEP,Ae.QE,Ae.RESULT_SIZE_OVERRIDE,Ae.SEARCH_CONFIG,Ae.WSETUP_STAGE]);const ye=e=>e.split("").reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)|0),0),Se=/(https?:\/\/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[a-zA-Z0-9@:%_+\-.#?&/=!]|~[a-zA-Z0-9@:%_+\-.#?&/=!])*)/;new RegExp(/\b/.source+Se.source+/(?:[*]|~{2}|\s|$)/.source,"gi"),new RegExp(/\b/.source+Se.source+/\b/.source,"gi");function be(e,t,n=self.location){return new URLSearchParams(n.search).get(e)||t}const _e=(e,t=self.location)=>t.pathname?.includes(e)||!1,ve={"-1774436043":!0,"1302602094=":!1,"825516477=":!1},we=Boolean(!1),Oe=["https://dev.askscio.com","https://dev.glean.com"],Te=Oe.some((e=>!!self.document?.currentScript?.getAttribute("src")?.startsWith(e))),Re=Oe.includes(self.location.origin),Ie=we||Re||Te,Ce=(()=>{try{const e=Ee();return!!e?.id&&("cfpdompphcacgpjfbonkdokgjhgabpij"!==e.id&&"{315f61e5-f0ce-4d6e-a521-70e8da512405}"!==e.id&&"com.glean.Glean-for-Safari.Extension (877XN49FUQ)"!==e.id)}catch(e){return!1}})(),Ne=["https://canary.askscio.com","https://canary.glean.com"],Pe=Ne.includes(self.location.origin),De=Ne.some((e=>!!self.document?.currentScript?.getAttribute("src")?.startsWith(e))),xe=Ce||Pe||De,Ue=((()=>{const e=be(Ae.DEBUG_HOST,location.host);ye(e).toString()})(),Ie||xe||pe(),(()=>{switch(pe()){case Y:return xe?"{cfc0d70f-0a94-4b2f-8dcf-3fbe50e07b9c}":"{315f61e5-f0ce-4d6e-a521-70e8da512405}";case X:return xe?"com.glean.Glean-Canary-for-Safari.Extension (877XN49FUQ)":"com.glean.Glean-for-Safari.Extension (877XN49FUQ)";default:return xe?"cmnbeclkcipbhgnaabhogngjebnkkcai":"cfpdompphcacgpjfbonkdokgjhgabpij"}})()),ke="CREATE_BOOKMARK",Le="END_TAB_COUNTER",Me="GET_BOOKMARKS_BAR",Be="GET_CRAWLER_STATUS",je="GET_DATASOURCE_SCHEMAS",Fe="GET_EXTENSION_METADATA",He="GET_FAVICONS",Ge="GET_FILTERED_HISTORY",qe="GET_INJECTED_URLS",ze="GET_LOCAL_SETTINGS",Ke="GET_OR_REFRESH_FRAME_AUTH",Qe="GET_SIDEBAR_PARAMS",Ve="GET_TAB_COUNTER",We="HAS_PERMISSIONS",Ye="MOVE_BOOKMARK",$e="ON_INJECT_URLS",Xe="ON_WORKPLACE_APP_QUERY",Ze="ON_AUTHENTICATION_CHANGED",Je="ON_SET_DATASOURCE_SCHEMAS",et="ON_SET_LOCAL_SETTINGS",tt="OPEN_CHROME_APPS",nt="OPEN_IN_EXISTING_TAB",rt="OPEN_NTP",ot="REFRESH_AUTH",at="REMOVE_BOOKMARK",it="REQUEST_PERMISSIONS",st="RUN_CRAWL",ct="SEND_ACTIVITY",ut="SET_AUTH_TOKEN",lt="SET_NTP_BACKGROUND_STYLE",pt="SET_SIDEBAR_PARAMS",dt="START_TAB_COUNTER",ht="UPDATE_BOOKMARK",mt={createBookmark:(0,o.createAction)(ke,(e=>({bookmark:e})))(),getBookmarksBar:(0,o.createAction)(Me,(({excludeIcons:e})=>({excludeIcons:e})))(),getCrawlerStatus:(0,o.createAction)(Be)(),getDatasourceSchemas:(0,o.createAction)(je)(),getExtensionMetadata:(0,o.createAction)(Fe)(),getFavicons:(0,o.createAction)(He,((e,t=32)=>({size:t,urls:e})))(),getFilteredHistory:(0,o.createAction)(Ge,(e=>({params:e})))(),getInjectedUrls:(0,o.createAction)(qe)(),getLocalSettings:(0,o.createAction)(ze,(e=>({keys:e})))(),getOrRefreshFrameAuth:(0,o.createAction)(Ke)(),getSidebarParams:(0,o.createAction)(Qe)(),getTabCounter:(0,o.createAction)(Ve)(),hasPermissions:(0,o.createAction)(We,(e=>({permissions:e})))(),moveBookmark:(0,o.createAction)(Ye,((e,t,n)=>({bookmarkId:e,destinationIndex:n,destinationParent:t})))(),openInExistingTab:(0,o.createAction)(nt,((e,t)=>({datasource:e,url:t})))(),refreshAuth:(0,o.createAction)(ot)(),removeBookmark:(0,o.createAction)(at,(e=>({bookmarkId:e})))(),requestPermissions:(0,o.createAction)(it,(e=>({permissions:e})))(),runCrawl:(0,o.createAction)(st,(e=>({num:e})))(),sendActivity:(0,o.createAction)(ct)(),updateBookmark:(0,o.createAction)(ht,((e,t,n)=>({bookmarkId:e,newTitle:t,newUrl:n})))()},ft={endTabCounter:(0,o.createAction)(Le)(),injectUrls:(0,o.createAction)($e,(e=>({urls:e})))(),logWorkplaceAppQuery:(0,o.createAction)(Xe,(({datasource:e,query:t,url:n})=>({datasource:e,query:t,url:n})))(),openChromeApps:(0,o.createAction)(tt)(),openNtp:(0,o.createAction)(rt)(),setAuthToken:(0,o.createAction)(ut,((e,t)=>({responseCode:t,token:e})))(),setAuthentication:(0,o.createAction)(Ze,(({basePath:e,email:t,enableOverlays:n,isAuthenticated:r,shortcutsConfig:o,webAppUrl:a})=>({basePath:e,email:t,enableOverlays:n,isAuthenticated:r,shortcutsConfig:o,webAppUrl:a})))(),setDatasourceSchemas:(0,o.createAction)(Je,(e=>({schemas:e})))(),setLocalSettings:(0,o.createAction)(et,(e=>({settings:e})))(),setNtpBackgroundStyle:(0,o.createAction)(lt,(e=>({style:e})))(),setSidebarParams:(0,o.createAction)(pt,(e=>({params:e})))(),startTabCounter:(0,o.createAction)(dt)()},gt="ExtensionBackground",Et=e=>{const t=Ee();return t?new Promise((n=>{console.debug(gt,"dispatch and get response",e),t?.sendMessage(Ue,e,{},(e=>{n(t?.lastError||void 0===e?null:e)}))})):Promise.resolve(null)};pe()!==X||fe();const At={...R(ft,(e=>{const t=Ee();return t?(console.debug(gt,"dispatch",e),t.sendMessage(Ue,e,(()=>t?.lastError)),e):e})),createBookmark:e=>Et(mt.createBookmark(e)),getBookmarksBar:({excludeIcons:e})=>Et(mt.getBookmarksBar({excludeIcons:e})),getCrawlerStatus:()=>Et(mt.getCrawlerStatus()),getDatasourceSchemas:()=>Et(mt.getDatasourceSchemas()),getExtensionMetadata:()=>Et(mt.getExtensionMetadata()),getFavicons:(e,t=32)=>Et(mt.getFavicons(e,t)),getFilteredHistory:e=>Et(mt.getFilteredHistory(e)),getInjectedUrls:()=>Et(mt.getInjectedUrls()),getLocalSettings:e=>Et(mt.getLocalSettings(e)),getOrRefreshFrameAuth:()=>Et(mt.getOrRefreshFrameAuth()),getSidebarParams:()=>Et(mt.getSidebarParams()),getTabCounter:()=>Et(mt.getTabCounter()),hasPermissions:e=>Et(mt.hasPermissions(e)),moveBookmark:(e,t,n)=>Et(mt.moveBookmark(e,t,n)),openInExistingTab:(e,t)=>Et(mt.openInExistingTab(e,t)),refreshAuth:()=>Et(mt.refreshAuth()),removeBookmark:e=>Et(mt.removeBookmark(e)),requestPermissions:e=>Et(mt.requestPermissions(e)),runCrawl:e=>Et(mt.runCrawl(e)),sendActivity:()=>Et(mt.sendActivity()),updateBookmark:(e,t,n)=>Et(mt.updateBookmark(e,t,n))},yt=/[A-Z]/g,St=(e,t)=>e.charAt(0).toLowerCase()+e.slice(1).replace(yt,(e=>`${t}${e.toLowerCase()}`)),bt="Escape",_t={admin:{apps:{pathname:"/admin/apps"},general:{pathname:"/admin/general"},getstarted:{pathname:"/admin/getstarted"},manage:{pathname:"/admin/manage"},manageusage:{pathname:"/admin/manageusage"},pathname:"/admin",setup:{apps:{pathname:"/admin/setup/apps"},auth:{pathname:"/admin/setup/auth"},pathname:"/admin/setup",people:{pathname:"/admin/setup/people"},slack:{pathname:"/admin/setup/slack"},testing:{pathname:"/admin/setup/testing"},tokenManagement:{pathname:"/admin/setup/tokenManagement"}},teammates:{pathname:"/admin/teammates"}},adminsearch:{pathname:"/adminsearch",search:{pathname:"/adminsearch/search"}},answers:{pathname:"/answers",singleAnswer:{pathname:"answers/:id"}},datagovernance:{dlp:{pathname:"/datagovernance/dlp"},pathname:"/datagovernance"},directory:{orgchart:{pathname:"/directory/orgchart"},pathname:"/directory",people:{pathname:"/directory/people",profile:{pathname:"/directory/people/profile"}},teams:{pathname:"/directory/teams",team:{pathname:"/directory/teams/:teamId"}}},frame:{autocomplete:{pathname:"/frame/autocomplete"},pathname:"/frame",profile:{pathname:"/frame/profile"},results:{pathname:"/frame/results"},searchbox:{pathname:"/frame/searchbox"}},go:{pathname:"/go"},home:{pathname:"/"},insights:{announcements:{pathname:"/insights/announcements"},answers:{pathname:"/insights/answers"},collections:{pathname:"/insights/collections"},content:{pathname:"/insights/content"},invite:{pathname:"/insights/invite"},pathname:"/insights",searches:{pathname:"/insights/searches"},shortcuts:{pathname:"/insights/golinks"},teammates:{pathname:"/insights/teammates"}},internal:{config:{pathname:"/internal/config"},deployments:{configs:{pathname:"/internal/deployments/configs"},debug:{pathname:"/internal/deployments/debug"},error_groups:{pathname:"/internal/deployments/error_groups"},errors:{pathname:"/internal/deployments/errors"},health:{pathname:"/internal/deployments/health"},internalAdmin:{pathname:"/internal/deployments/admin"},pathname:"/internal/deployments",portal:{pathname:"/internal/deployments/portal"},pushes:{pathname:"/internal/deployments/pushes"}},eval:{pathname:"/internal/eval",samplequeries:{pathname:"/internal/eval/samplequeries"}},gallery:{components:{pathname:"/internal/gallery/components"},embeddedSearch:{pathname:"/internal/gallery/embeddedsearch"},pathname:"/internal/gallery"},pathname:"/internal",recsDebug:{pathname:"/internal/recsdebug"},sessions:{pathname:"/internal/sessions"},symbolizer:{pathname:"/internal/symbolizer"}},knowledge:{announcements:{announcement:{pathname:"/knowledge/announcements/:id"},pathname:"/knowledge/announcements"},answers:{board:{pathname:"/knowledge/answers/board/:id"},pathname:"/knowledge/answers",singleAnswer:{pathname:"/knowledge/answers/:id"}},collections:{collection:{name:{pathname:"/knowledge/collections/:id/:name"},pathname:"/knowledge/collections/:id"},pathname:"/knowledge/collections"},customEntities:{customEntity:{pathname:"/knowledge/:datasource/:id"},pathname:"/knowledge/:datasource"},pathname:"/knowledge",pins:{pathname:"/knowledge/pins"},shortcuts:{pathname:"/knowledge/golinks"}},login:{pathname:"/login",preview:{pathname:"/login/preview"}},ntp:{pathname:"/ntp"},profile:{pathname:"/profile"},search:{pathname:"/search"},settings:{apps:{pathname:"/settings/apps"},getapp:{pathname:"/settings/getapp"},getextension:{pathname:"/settings/getextension"},getmobileapp:{pathname:"/settings/getmobileapp"},pathname:"/settings"},setup:{pathname:"/setup"},sidebar:{about:{pathname:"/sidebar/about"},debug:{pathname:"/sidebar/debug"},login:{pathname:"/sidebar/login"},pathname:"/sidebar",search:{pathname:"/sidebar/search"}},uninstall:{pathname:"/uninstall"},updates:{pathname:"/updates",posts:{pathname:"/updates/:slug"}},verification:{content:{pathname:"/verification/content"},pathname:"/verification",tasks:{pathname:"/verification/tasks"}}},vt=e=>!e||!("string"!=typeof e||!e.startsWith("0px")),wt="CCADjeeoaD",Ot="cwOJ4oLf3",Tt="jk8lb2RUiD",Rt=new Set,It="important",Ct=[],Nt=new Map,Pt=(e,t,n)=>{var r;void 0!==n?e.style.setProperty(t,"number"==typeof(r=n)?`${r}px`:r,It):e.style.removeProperty(t)},Dt=(e,t)=>{if(t)return`${Dt(e)}_${t}`;const n=new URL(e),r=be(Ae.FRAME_ID,void 0,n);return r||(((e,t=self.location)=>new URLSearchParams(t.search).has(e))(Ae.FRAME_TYPE,n)?wt:_e("sidebar",n)?Tt:_e("searchbox",n)?Ot:ye(n.pathname).toString(36).substring(2,10))},xt=e=>{const t=document.getElementById(e),n=Nt.get(e);return!t&&n?n.querySelector(`#${e}`):t},Ut=(e,t={})=>{const{container:n,queryParams:r,style:o,key:a}=t,i=Dt(e,a);n&&((e,t)=>{const n=t.getRootNode();null!=n&&n!==document&&Nt.set(e,n)})(i,n);const s=((e,t)=>{const n=new URL(t),r=new URLSearchParams(n.search);return Object.entries(e).forEach((([e,t])=>r.set(e,t||""))),n.search=r.toString(),n.toString()})({...r,[Ae.DOC_TITLE]:encodeURIComponent(window.document.title),[Ae.DOC_URL]:window.location.href,[Ae.FRAME_ID]:i},e),c=xt(i);c&&c.remove();const u=document.createElement("iframe");return Rt.add(i),u.id=i,u.style.setProperty("border","none",It),u.style.setProperty("background","transparent",It),u.style.setProperty("color-scheme","none",It),u.setAttribute("allow","clipboard-write"),u.setAttribute("scrolling","no"),n?(u.style.setProperty("height","100%",It),u.style.setProperty("width","100%",It),o&&Object.entries(o).forEach((([e,t])=>u.style.setProperty(St(e,"-"),t,It)))):(u.style.setProperty("position","fixed",It),u.style.setProperty("display","none",It)),u.src=s,K.initFrame(u),(n||document.body).appendChild(u),i},kt=(e,{container:t,style:n,key:r}={})=>{const o=Dt(e,r);return xt(o)?(K.sender(o).onFrameUrlChanged(e),o):Ut(e,{container:t,key:r,style:n})},Lt=e=>{const{frameId:t,isSidebar:n,rect:r}=e,o=xt(t);o&&((e=>vt(e.height)||vt(e.width))(r)?o.style.setProperty("display","none",It):((({height:e,left:t,right:n,top:r,bottom:o,width:a,zIndex:i},s)=>{Pt(s,"left",t),Pt(s,"right",n),Pt(s,"top",r),Pt(s,"bottom",o),Pt(s,"height",e),Pt(s,"width",a),Pt(s,"z-index",i?.toString())})(r,o),o.style.setProperty("display","block",It)),n&&o.setAttribute("name","glean-sidebar"))},Mt=async(e,t,n)=>{if(xt(Tt))K.sender(Tt).onOpenSidebar(t,n);else{const o=await(async(e,t,n)=>{const r={[Ae.QUERY]:t,[Ae.UTM_SOURCE]:n},o=await At.getSidebarParams(),a=Ut(await e(_t.sidebar.pathname,{...r,...o}));return a&&window.addEventListener("keyup",(e=>{e.key===bt&&K.sender(Tt).onCloseSidebar()})),a})(e,t,n);o&&Lt({frameId:o,isSidebar:!0,rect:r.openRect})}return Tt},Bt=t=>{(()=>{for(;Ct.length;){const e=Ct.pop();e?.parentElement?.removeChild(e)}})();const n=document.querySelectorAll(t);console.debug("Query CSS selectors:",t),console.debug("Found elements:",n),n.forEach((t=>{(t=>{const n=document.createElement("div"),r=t.getBoundingClientRect();n.style.setProperty("position","fixed"),n.style.setProperty("top",`${r.top}px`),n.style.setProperty("left",`${r.left}px`),n.style.setProperty("width",`${r.width}px`),n.style.setProperty("height",`${r.height}px`),n.style.setProperty("border","1px solid red"),n.style.setProperty("background","rgba(120, 0, 0, 0.1)"),n.style.setProperty("z-index",`${e}`),document.body.appendChild(n),Ct.push(n)})(t)}))},jt=e=>{window.didInitFrameListeners||(window.didInitFrameListeners=!0,K.receiver().handleAction(v,(({payload:e})=>Lt(e))).handleAction(s,(({payload:e})=>{const{rect:t,src:n}=e,r=Ut(n);r&&t&&Lt({frameId:r,rect:t})})).handleAction(c,(({payload:e})=>(({frameId:e})=>{window.setTimeout((()=>{const t=xt(e);t&&t.remove(),Nt.has(e)&&Nt.delete(e),Rt.delete(e)}),0)})(e))).handleAction(u,(({payload:e})=>(({frameId:e})=>{const t=xt(e);t?.contentWindow&&t.contentWindow.focus()})(e))).handleAction(i,(({payload:e})=>(({frameId:e})=>{const t=xt(e);t&&t.blur()})(e))).handleAction(y,(({payload:t})=>Mt(e,t.query,t.category))).handleAction(S,(({payload:e})=>Bt(e.selectors))))},Ft={},Ht=(e,t)=>{const n=Ft[e];if(n&&(n.removeAllHandlers(),delete Ft[e]),!t)return;const{onAuthTokenRequired:r,onSearch:o,onDatasourceChange:a}=t;if(!r&&!o&&!a)return;const i=K.receiver(e);r&&i.handleAction(h,r),o&&i.handleAction(E,(({payload:e})=>{o(e.query)})),a&&i.handleAction(f,(({payload:e})=>{a(e.datasource)})),Ft[e]=i},Gt="VIEW",qt="EMBEDDED_SEARCH",zt=(new Map,e=>{K.sender(e).logActivity({action:Gt,params:{title:document.title},source:qt,timestamp:(new Date).toISOString(),url:window.location.href})}),Kt=e=>{zt(e),window.addEventListener("popstate",(()=>zt(e)))},Qt=e=>{(e=>{if(e.backend)try{new URL(e.backend)}catch{throw new Error("Invalid backend URL")}})(e)},Vt=e=>{Qt(e),e.searchBoxCustomizations&&(e=>{if(e.searchIconUrl){let t;try{t=new URL(e.searchIconUrl)}catch{throw new Error(`invalid searchIconUrl: ${e.searchIconUrl}`)}if("https:"!==t?.protocol&&"data:"!==t?.protocol)throw new Error(`invalid searchIconUrl protocol: ${t?.protocol}`)}})(e.searchBoxCustomizations)},Wt=e=>{if(!xt(Ot))return;e.blur(),e.parentElement&&e.parentElement.click();const n={height:window.innerHeight,width:window.innerWidth},r=e.getBoundingClientRect();Lt({frameId:Ot,rect:{height:window.innerHeight,left:0,top:0,width:window.innerWidth,zIndex:t}}),K.sender(Ot).onSearchBoxActive(n,{height:r.height,left:r.left,top:r.top,width:r.width})},Yt=new Map,$t=e=>Array.isArray(e),Xt=((e=>{const t=new Set})((e=>e)),e=>new RegExp(`(\\s|^)${e}:("[^"]+"|[^\\s"]+)`,"gi")),Zt=(e,t)=>{const n=[];if(!t)return n;const r=Xt(e);let o;do{o=r.exec(t),o&&n.push(o[2])}while(o);return n},Jt=(()=>{const e=document.currentScript;return e?.src?.includes(".glean.com")?new URL(e.src).origin:"https://app.glean.com"})(),en=(e=_t.frame.pathname,t)=>{const n=new URL(Jt);if(n.pathname=e,t){const e=new URLSearchParams;Object.entries(t).forEach((([t,n])=>{void 0!==n&&($t(n)?n.forEach((n=>e.append(t,n))):e.set(t,n))})),n.search=e.toString()}return n.toString()},tn=e=>{if(e)return`gl_${e.replace(/[^a-zA-Z0-9-_.]/g,"")}`},nn=e=>({[Ae.DATASOURCES]:e?.datasourcesFilter,[Ae.FRAME_USE_AUTH_TOKEN]:e?.authToken?"1":void 0,[Ae.QE]:e?.backend,[Ae.QUERY]:e?.query});class rn{constructor(){}static attach(e,t){jt(en);const n=en(_t.frame.searchbox.pathname,{...nn(t),[Ae.DOC_DS]:t?.datasource,[Ae.IS_EMBEDDED_SEARCH]:"1"}),r=kt(n);return(e=>{const t="function"==typeof e?e():e;if(!t)return;const n=Yt.get(t);n&&(n(),Yt.delete(t)),t.setAttribute("autocomplete","off");const r=()=>Wt(t);t.addEventListener("focusin",r),Yt.set(t,(()=>t.removeEventListener("focusin",r)))})(e),Ht(r,t),t&&(Vt(t),K.sender(r).setEmbeddedSearchOptions(t),t.query&&Wt(e),t.enableActivityLogging&&Kt(r)),{focus(){Wt(e)}}}static renderSearchBox(e,t){jt(en);const n=en(_t.frame.autocomplete.pathname,{...nn(t),[Ae.IS_EMBEDDED_SEARCH]:"1"}),r=kt(n,{container:e,key:tn(t.key),style:{left:"0px",position:"absolute",top:"0px"}});return Vt(t),Ht(r,t),K.sender(r).setEmbeddedSearchOptions(t),t.enableActivityLogging&&Kt(r),{focus(){const e=xt(r);e&&e.focus()}}}static attachAutocomplete(e,t){return rn.renderSearchBox(e,t)}static renderSearchResults(e,t){jt(en);const n=en(_t.frame.results.pathname,{...nn(t),[Ae.IS_EMBEDDED_SEARCH]:"1",[Ae.TAB]:t.datasource||Zt("app",t.query)[0]}),r=kt(n,{container:e,key:tn(t.key)});Qt(t),Ht(r,t),K.sender(r).setEmbeddedSearchOptions(t)}static async openSidebar(e){jt(en);const t=await Mt(((t,n)=>en(t,{...n,...nn(e),[Ae.IS_EMBEDDED_SEARCH]:"1",[Ae.TAB]:e.datasource||Zt("app",e.query)[0]})),e.query);Qt(e),Ht(t,e),K.sender(t).setEmbeddedSearchOptions(e)}}window.EmbeddedSearch=rn})()})();
//# sourceMappingURL=https://storage.cloud.google.com/scio-static-content-internal/sourcemaps/embedded-search-latest.min.js.map.json
